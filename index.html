<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAA-C03 - Practice Exam</title>
    <link rel="icon" type="image/svg+xml" href="img/aws-logo.svg">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Quill Rich Text Editor CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fab fa-aws"></i>
                <h1>AWS Certified Solutions Architect</h1>
            </div>
            <div class="theme-toggle">
                <button class="theme-btn" id="theme-toggle" aria-label="Toggle theme">
                    <i class="fas fa-moon fa-beat-fade" id="theme-icon"></i>
                </button>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="correct-count">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="incorrect-count">0</div>
                    <div class="stat-label">Incorrect</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="accuracy">0%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </header>
    
    <div class="container">
        <!-- Added class handling in JS for 'admin-mode' to this div -->
        <div class="main-layout" id="main-layout">
            <!-- Left Sidebar -->
            <aside class="sidebar">
                <!-- Practice Controls -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-cog"></i> Practice Settings
                    </h3>
                    <div class="question-group-container">
                        <div class="practice-mode-selector">
                            <button class="mode-btn active" id="random-practice-mode" data-mode="random">
                                <i class="fas fa-shuffle"></i> Random
                            </button>
                            <button class="mode-btn" id="sequential-practice-mode" data-mode="sequential">
                                <i class="fas fa-list-ol"></i> Sequential
                            </button>
                        </div>
                        
                        <!-- Random mode controls -->
                        <div class="practice-control" id="random-practice-control">
                            <label for="question-count">Number of Questions:</label>
                            <div class="input-wrapper">
                                <input type="number" id="question-count" min="1" placeholder="Enter number">
                            </div>
                        </div>
                        
                        <!-- Sequential mode controls -->
                        <div class="practice-control hidden" id="sequential-practice-control">
                            <label for="start-question">From Question:</label>
                            <div class="input-wrapper">
                                <input type="number" id="start-question" min="1" placeholder="Start">
                            </div>
                            
                            <label for="end-question">To:</label>
                            <div class="input-wrapper">
                                <input type="number" id="end-question" min="1" placeholder="End">
                            </div>
                        </div>
                        
                        <button class="btn btn-primary btn-full" id="start-practice">
                            <i class="fas fa-play"></i> Start Practice
                        </button>
                    </div>
                </div>
                
                <!-- Filter Controls -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-filter"></i> Filter Questions
                    </h3>
                    <div class="filters">
                        <div class="filter-group">
                            <button class="filter-btn active" id="all-questions">
                                <i class="fas fa-list"></i> All Questions
                            </button>
                            <button class="filter-btn" id="incorrect-questions">
                                <i class="fas fa-times-circle"></i> Incorrect
                            </button>
                            <button class="filter-btn" id="unanswered-questions">
                                <i class="fas fa-question-circle"></i> Unanswered
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Additional Controls -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">
                        <i class="fas fa-tools"></i> Tools
                    </h3>
                    <div class="sidebar-info">
                        <div class="info-item">
                            <i class="fas fa-database"></i>
                            <span class="total-questions-display">Total: <span id="total-questions">0</span></span>
                        </div>
                        <button class="btn btn-secondary btn-full" id="manage-questions-btn" style="margin-bottom: 10px;">
                            <i class="fas fa-edit"></i> Question Manager
                        </button>
                        <button class="btn btn-danger btn-full" id="reset-btn">
                            <i class="fas fa-trash"></i> Reset All
                        </button>
                    </div>
                </div>
            </aside>
            
            <!-- Main Content Area -->
            <main class="main-content">
                
                <!-- View 1: Standard Exam Interface -->
                <div id="exam-view">
                    <div class="question-container" id="question-container">
                        <div class="question-header">
                            <div class="question-number" id="question-number">Question 1</div>
                            <div class="question-category">SAA-C03</div>
                        </div>
                        
                        <div class="question-text" id="question-text">
                            Loading question...
                        </div>
                        
                        <div class="multi-select-hint hidden" id="multi-select-hint">
                            Select all that apply.
                        </div>
                        
                        <div class="options-container" id="options-container">
                            <!-- Options will be dynamically generated by JavaScript -->
                        </div>
                        
                        <div class="explanation-container" id="explanation-container">
                            <div class="explanation-title">
                                <i class="fas fa-lightbulb"></i> Explanation
                            </div>
                            <div class="explanation-text" id="explanation-text">
                                <!-- Explanation content -->
                            </div>
                        </div>
                        
                        <div class="controls">
                            <button class="btn btn-secondary" id="prev-btn" disabled>
                                <i class="fas fa-arrow-left"></i> Previous
                            </button>
                            
                            <button class="btn btn-primary" id="submit-btn">
                                <i class="fas fa-check"></i> Submit Answer
                            </button>
                            
                            <button class="btn btn-secondary" id="next-btn" disabled>
                                Next <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="result-container" id="result-container">
                        <div class="result-title">Exam Results</div>
                        <div class="result-score" id="result-score">0%</div>
                        <div class="result-message" id="result-message"></div>
                        <div class="result-details">
                            <div class="result-detail">
                                <div class="result-detail-value" id="total-answered">0</div>
                                <div class="result-detail-label">Answered</div>
                            </div>
                            <div class="result-detail">
                                <div class="result-detail-value" id="total-correct">0</div>
                                <div class="result-detail-label">Correct</div>
                            </div>
                            <div class="result-detail">
                                <div class="result-detail-value" id="total-incorrect">0</div>
                                <div class="result-detail-label">Incorrect</div>
                            </div>
                        </div>
                        <div class="result-actions">
                            <button class="btn btn-primary" id="restart-btn">
                                <i class="fas fa-redo"></i> Restart
                            </button>
                            <button class="btn btn-secondary" id="continue-btn">
                                <i class="fas fa-play"></i> Continue
                            </button>
                        </div>
                    </div>
                </div>

                <!-- View 2: Question Manager (Admin) -->
                <div id="admin-view" class="hidden">
                    <div class="question-container">
                        <div class="question-header">
                            <div class="question-number">Question Manager</div>
                            <div>
                                <button class="btn btn-secondary" id="exit-admin-btn">
                                    <i class="fas fa-times"></i> Exit Manager
                                </button>
                            </div>
                        </div>

                        <div class="admin-layout">
                            <!-- Left Column: Question List -->
                            <div class="admin-sidebar-list">
                                <div class="admin-search">
                                    <input type="text" id="admin-search-input" placeholder="Search questions...">
                                </div>
                                <div class="admin-list-container" id="admin-question-list">
                                    <!-- Items populated via JS -->
                                </div>
                                <div class="admin-sidebar-actions">
                                    <button class="btn btn-primary btn-full" id="add-new-question-btn">
                                        <i class="fas fa-plus"></i> Add New
                                    </button>
                                    <button class="btn btn-secondary btn-full" id="backup-questions-btn" style="margin-top: 10px;">
                                        <i class="fas fa-save"></i> Backup Questions
                                    </button>
                                    <div style="margin-top: 10px; display: flex; align-items: center;">
                                        <input type="file" id="restore-file-input" accept=".json" style="display: none;">
                                        <button class="btn btn-secondary btn-full" id="restore-questions-btn">
                                            <i class="fas fa-upload"></i> Restore Questions
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column: Editor -->
                            <div class="admin-editor-area">
                                <form id="question-editor-form">
                                    <input type="hidden" id="edit-question-id">
                                    
                                    <div class="form-group">
                                        <label>Question Text</label>
                                        <div id="quill-question-editor" class="quill-editor-container"></div>
                                    </div>

                                    <div class="form-group">
                                        <label>Options</label>
                                        <div id="admin-options-container">
                                            <!-- Dynamic Inputs -->
                                        </div>
                                        <button type="button" class="btn btn-sm btn-secondary" id="add-option-btn" style="margin-top:5px;">
                                            <i class="fas fa-plus"></i> Add Option
                                        </button>
                                    </div>

                                    <div class="form-group">
                                        <label>Correct Answer Index(es) (0-based, comma separated)</label>
                                        <input type="text" id="edit-correct-answers" placeholder="e.g. 0 or 0,2">
                                        <small style="color: #666; display:block; margin-top:4px;">
                                            0 = Option A, 1 = Option B, etc. For multiple choice, separate with commas.
                                        </small>
                                    </div>

                                    <div class="form-group">
                                        <label>Explanation</label>
                                        <div id="quill-explanation-editor" class="quill-editor-container"></div>
                                    </div>

                                    <div class="admin-actions">
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                        <button type="button" class="btn btn-danger" id="delete-question-btn">Delete Question</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 AWS Certified Solutions Architect Practice Exam | Created by AWS Enthusiasts</p>
        </div>
    </footer>

    <!-- Quill JS Library -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="script.js"></script>
</body>
</html>